# ğŸ’• Love Trick - æƒ…ä¾£ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ

> ğŸ’ ç»™å¥³æœ‹å‹å†™çš„ä¸“å±æƒ…ä¾£ä»»åŠ¡å’Œå•†åŸç³»ç»Ÿ | çº¯H5é¡µé¢ | å®Œå…¨å…è´¹éƒ¨ç½² | æ— éœ€æœåŠ¡å™¨  
> ğŸš€ React-Next.jså…¨æ ˆé¡¹ç›®ï¼Œè®©çˆ±æƒ…æ›´æœ‰è¶£ï¼

[![Next.js](https://img.shields.io/badge/Next.js-15.5.2-black?logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.1.1-blue?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.6.2-blue?logo=typescript)](https://www.typescriptlang.org/)
[![Prisma](https://img.shields.io/badge/Prisma-6.15.0-green?logo=prisma)](https://www.prisma.io/)
[![GitHub stars](https://img.shields.io/github/stars/lengsukq/love-trick?style=social)](https://github.com/lengsukq/love-trick/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/lengsukq/love-trick?style=social)](https://github.com/lengsukq/love-trick/network/members)

## ğŸš€ å¿«é€Ÿå¼€å§‹

æƒ³è¦å¿«é€Ÿä½“éªŒï¼Ÿåªéœ€3æ­¥ï¼š

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/lengsukq/love-trick.git
cd love-trick

# 2. å®‰è£…ä¾èµ–
npm install

# 3. å¯åŠ¨é¡¹ç›®ï¼ˆä½¿ç”¨SQLiteé›¶é…ç½®ï¼‰
npm run dev
```

ğŸ‰ æ‰“å¼€ http://localhost:9999 å¼€å§‹ä½ çš„çˆ±æƒ…ä¹‹æ—…ï¼

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

ğŸ” **ç”¨æˆ·ç³»ç»Ÿ**
- ç”¨æˆ·æ³¨å†Œç™»å½•ï¼ˆæ³¨å†Œç‚¹å‡»ç™»å½•é¡µåœ†å½¢å¤§å›¾ï¼‰
- ä¸ªäººä¿¡æ¯ç®¡ç†ä¸æƒ…ä¾£ç»‘å®š

ğŸ¯ **ä»»åŠ¡ç³»ç»Ÿ**
- å‘å¸ƒä»»åŠ¡ç»™å¯¹æ–¹
- æ¥å—å¹¶å®Œæˆä»»åŠ¡
- ä»»åŠ¡çŠ¶æ€è¿½è¸ª

ğŸª **ç§¯åˆ†å•†åŸ**
- ç±»å•†å“äº¤æ˜“ç³»ç»Ÿï¼Œå®Œæˆä»»åŠ¡è·å–ç§¯åˆ†
- ç§¯åˆ†å…‘æ¢ç¤¼ç‰©ï¼ˆå•†å“ï¼‰
- ä¸Šæ¶è‡ªå·±çš„ç¤¼ç‰©ç»™å¯¹æ–¹å…‘æ¢

ğŸ“¸ **å›¾ç‰‡ç®¡ç†**
- æ”¯æŒSMå›¾åºŠã€IMGBBå›¾åºŠ
- å®Œå…¨ä¸å ç”¨æœåŠ¡å™¨ç©ºé—´
- è®©å®¶åº­è‡ªå»ºæœåŠ¡å™¨ä¹Ÿèƒ½å®ç°é«˜æ¸…å¤§å›¾å­˜å‚¨

ğŸ’¬ **ç•™è¨€åŠŸèƒ½**
- ç»™å¯¹æ–¹ç•™è¨€è¡¨è¾¾å¿ƒæ„
- ç•™è¨€çŠ¶æ€ç®¡ç†

ğŸ¤– **æ™ºèƒ½é€šçŸ¥**
- å‘å¸ƒ/æ¥å—/å®Œæˆä»»åŠ¡æ—¶å¾®ä¿¡ä¼ä¸šæœºå™¨äººé€šçŸ¥
- ä½¿ç”¨ç¤¼ç‰©æ—¶è‡ªåŠ¨é€šçŸ¥

â¤ï¸ **æ”¶è—ç³»ç»Ÿ**
- æ”¶è—å–œæ¬¢çš„ä»»åŠ¡ã€ç¤¼ç‰©ã€ç•™è¨€
- ä¸ªäººæ”¶è—ç®¡ç†
***
![mainImg.png](readmeImg%2FmainImg.png)

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Next.js 15.5.2** - Reactå…¨æ ˆæ¡†æ¶ï¼Œæ”¯æŒSSR/SSG
- **React 19.1.1** - ç”¨æˆ·ç•Œé¢åº“
- **TypeScript 5.6.2** - ç±»å‹å®‰å…¨çš„JavaScript
- **Tailwind CSS** - åŸå­åŒ–CSSæ¡†æ¶
- **Framer Motion** - åŠ¨ç”»åº“
- **React Redux** - çŠ¶æ€ç®¡ç†

### åç«¯æŠ€æœ¯æ ˆ
- **Next.js API Routes** - æœåŠ¡ç«¯APIæ¥å£
- **Prisma ORM 6.15.0** - ç°ä»£åŒ–æ•°æ®åº“è®¿é—®å±‚
- **JWT** - èº«ä»½è®¤è¯
- **ä¸­é—´ä»¶éªŒè¯** - è·¯ç”±å®‰å…¨ä¿æŠ¤

### æ•°æ®åº“æ”¯æŒ
ğŸ—„ï¸ **å¤šæ•°æ®åº“å…¼å®¹** - é€šè¿‡Prisma ORMæ”¯æŒï¼š
- **SQLite** (å¼€å‘ç¯å¢ƒæ¨è) - é›¶é…ç½®ï¼Œå¼€ç®±å³ç”¨
- **MySQL** (ç”Ÿäº§ç¯å¢ƒæ¨è) - é«˜æ€§èƒ½å…³ç³»å‹æ•°æ®åº“  
- **PostgreSQL** (ä¼ä¸šçº§æ¨è) - åŠŸèƒ½ä¸°å¯Œçš„å¼€æºæ•°æ®åº“

### å¤–éƒ¨é›†æˆ
- **å›¾åºŠæœåŠ¡** - SMå›¾åºŠã€IMGBBå›¾åºŠï¼ˆæ”¯æŒé«˜æ¸…å›¾ç‰‡ä¸Šä¼ ï¼‰
- **ä¼ä¸šå¾®ä¿¡æœºå™¨äºº** - å®æ—¶æ¶ˆæ¯æ¨é€ï¼Œä»»åŠ¡çŠ¶æ€åŒæ­¥

## ğŸ“Š æ•°æ®åº“æ¨¡å‹

### æ ¸å¿ƒæ•°æ®è¡¨
- **UserInfo** - ç”¨æˆ·ä¿¡æ¯è¡¨
- **TaskList** - ä»»åŠ¡åˆ—è¡¨è¡¨  
- **GiftList** - ç¤¼ç‰©åˆ—è¡¨è¡¨
- **WhisperList** - ç•™è¨€åˆ—è¡¨è¡¨
- **FavouriteList** - æ”¶è—åˆ—è¡¨è¡¨

![sql.png](readmeImg%2Fsql.png)

## ğŸ“š æ— éœ€æœåŠ¡å™¨ï¼Œ0æˆæœ¬æ­å»ºæ•™ç¨‹ 
ğŸ”— [è¯¦ç»†æ•™ç¨‹](https://blog.lengsu.top/article/love-trick)

## âš™ï¸ ç¯å¢ƒé…ç½®

### åˆ›å»º.env.localæ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`.env.local`æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash
# ===========================================
# ğŸ—„ï¸ æ•°æ®åº“é…ç½® (Database Configuration)
# ===========================================

# æ•°æ®åº“æä¾›å•†é€‰æ‹©: sqlite, mysql, postgresql
DATABASE_PROVIDER=sqlite

# æ•°æ®åº“è¿æ¥URL (æ ¹æ®DATABASE_PROVIDERé€‰æ‹©å¯¹åº”æ ¼å¼)
# SQLite: file:./dev.db
# MySQL: mysql://username:password@host:port/database  
# PostgreSQL: postgresql://username:password@host:port/database
DATABASE_URL=file:./dev.db

# ===========================================
# ğŸ” å®‰å…¨é…ç½® (Security Configuration)
# ===========================================

# JWTå¯†é’¥ - ç”¨äºcookieåŠ å¯†ï¼Œè¯·æ›¿æ¢ä¸ºå¤æ‚çš„éšæœºå­—ç¬¦ä¸²
JWT_SECRET_KEY=your_super_secret_jwt_key_here

# ===========================================
# ğŸ¤– å¾®ä¿¡æœºå™¨äººé…ç½® (WeChat Robot Configuration)  
# ===========================================

# ä¼ä¸šå¾®ä¿¡æœºå™¨äººwebhook URL (å¯é€‰)
WX_ROBOT_URL=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your-webhook-key

# ===========================================
# ğŸ“¸ å›¾åºŠé…ç½® (Image Hosting Configuration)
# ===========================================

# å›¾åºŠé€‰æ‹©: SM, IMGBB
DRAWING_BED=SM

# SMå›¾åºŠé…ç½® (å½“DRAWING_BED=SMæ—¶éœ€è¦)
# æ³¨å†Œåœ°å€: https://smms.app/
SM_TOKEN=your_sm_token_here

# IMGBBå›¾åºŠé…ç½® (å½“DRAWING_BED=IMGBBæ—¶éœ€è¦)
# æ³¨å†Œåœ°å€: https://imgbb.com/
IMGBB_API=your_imgbb_api_key_here
```

### ğŸ“ é…ç½®è¯´æ˜

#### æ•°æ®åº“é…ç½®
- **å¼€å‘ç¯å¢ƒæ¨è**: ä½¿ç”¨SQLite (`DATABASE_PROVIDER=sqlite`)ï¼Œé›¶é…ç½®å¼€ç®±å³ç”¨
- **ç”Ÿäº§ç¯å¢ƒæ¨è**: ä½¿ç”¨MySQLæˆ–PostgreSQLï¼Œæ€§èƒ½æ›´ä¼˜
- ä½¿ç”¨Prisma ORMï¼Œæ”¯æŒæ•°æ®åº“è¿ç§»å’Œç±»å‹å®‰å…¨

#### å›¾åºŠé…ç½®
- æ”¯æŒä¸¤ç§å›¾åºŠæœåŠ¡ï¼š**SMå›¾åºŠ**å’Œ**IMGBBå›¾åºŠ**
- **SMå›¾åºŠ**ï¼šæ³¨å†Œ https://smms.app/ è·å–API Token
- **IMGBBå›¾åºŠ**ï¼šæ³¨å†Œ https://imgbb.com/ è·å–API Key
- é€‰æ‹©å…¶ä¸­ä¸€ç§é…ç½®å³å¯ï¼Œå»ºè®®ä½¿ç”¨SMå›¾åºŠï¼ˆå…è´¹ã€ç¨³å®šï¼‰

#### æ•°æ®åº“å¿«é€Ÿåˆ‡æ¢
é¡¹ç›®æ”¯æŒé€šè¿‡npmè„šæœ¬å¿«é€Ÿåˆ‡æ¢æ•°æ®åº“ï¼š
```bash
# åˆ‡æ¢åˆ°SQLite
npm run db:sqlite

# åˆ‡æ¢åˆ°MySQL  
npm run db:mysql

# åˆ‡æ¢åˆ°PostgreSQL
npm run db:postgresql
```

## ğŸ”„ é¡¹ç›®è¿­ä»£çŠ¶æ€

### âœ… å·²å®Œæˆä¼˜åŒ–
- âœ… **æ•°æ®åº“æ¶æ„å‡çº§** - ä»åŸç”ŸSQLè¿ç§»åˆ°Prisma ORM
- âœ… **å¤šæ•°æ®åº“æ”¯æŒ** - æ”¯æŒSQLite/MySQL/PostgreSQL
- âœ… **Next.js 15å‡çº§** - å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œæ€§èƒ½æ›´ä¼˜
- âœ… **React 19å‡çº§** - æœ€æ–°Reactç‰¹æ€§æ”¯æŒ
- âœ… **Cookieå®‰å…¨ä¼˜åŒ–** - æœåŠ¡å™¨ç«¯äºŒæ¬¡æ ¡éªŒ
- âœ… **ç±»å‹å®‰å…¨** - å…¨é¢TypeScriptåŒ–
- âœ… **ä¸­é—´ä»¶éªŒè¯** - è·¯ç”±çº§åˆ«çš„å®‰å…¨ä¿æŠ¤

### ğŸš§ æŒç»­æ”¹è¿›ä¸­
- ğŸ”„ æ¥å£å‚æ•°æ ¡éªŒå®Œå–„
- ğŸ”„ äºŒæ¬¡ç¡®è®¤é€»è¾‘ä¼˜åŒ–
- ğŸ”„ é”™è¯¯å¤„ç†æœºåˆ¶å¢å¼º
- ğŸ”„ æ€§èƒ½ä¼˜åŒ–å’Œç¼“å­˜ç­–ç•¥

## ğŸ³ Docker éƒ¨ç½²

### 1. æ„å»ºæˆ–æ‹‰å–é•œåƒ
```bash
# æ„å»ºæœ¬åœ°é•œåƒï¼ˆéœ€è¦å…ˆè¿›å…¥é¡¹ç›®ç›®å½•ï¼‰
docker build -t love-trick .

# æˆ–æ‹‰å–è¿œç¨‹é•œåƒ
docker pull queensu/love-trick
```

### 2. è¿è¡Œå®¹å™¨

#### SQLiteæ¨¡å¼ï¼ˆæ¨èæ–°æ‰‹ï¼‰
```bash
docker run -d -p 9999:9999 --name love-trick \
  -e DATABASE_PROVIDER=sqlite \
  -e DATABASE_URL=file:./dev.db \
  -e JWT_SECRET_KEY=your_jwt_secret_key \
  -e DRAWING_BED=SM \
  -e SM_TOKEN=your_sm_token \
  -e WX_ROBOT_URL=your_webhook_url \
  -v $(pwd)/data:/app/data \
  love-trick
```

#### MySQLæ¨¡å¼ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰
```bash
docker run -d -p 9999:9999 --name love-trick \
  -e DATABASE_PROVIDER=mysql \
  -e DATABASE_URL=mysql://username:password@host:port/database \
  -e JWT_SECRET_KEY=your_jwt_secret_key \
  -e DRAWING_BED=SM \
  -e SM_TOKEN=your_sm_token \
  -e WX_ROBOT_URL=your_webhook_url \
  love-trick
```

#### PostgreSQLæ¨¡å¼
```bash
docker run -d -p 9999:9999 --name love-trick \
  -e DATABASE_PROVIDER=postgresql \
  -e DATABASE_URL=postgresql://username:password@host:port/database \
  -e JWT_SECRET_KEY=your_jwt_secret_key \
  -e DRAWING_BED=SM \
  -e SM_TOKEN=your_sm_token \
  -e WX_ROBOT_URL=your_webhook_url \
  love-trick
```

## ğŸš€ å¼€å‘å¯åŠ¨æµç¨‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-username/love-trick.git
cd love-trick
```

### 2. å®‰è£…ä¾èµ–
```bash
# ä½¿ç”¨npm
npm install

# æˆ–ä½¿ç”¨yarn
yarn install
```

### 3. ç¯å¢ƒé…ç½®
```bash
# å¤åˆ¶å¹¶ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶
cp .env.example .env.local

# ç¼–è¾‘é…ç½®æ–‡ä»¶
vim .env.local  # æˆ–ä½¿ç”¨å…¶ä»–ç¼–è¾‘å™¨
```

### 4. æ•°æ®åº“åˆå§‹åŒ–
```bash
# ç”ŸæˆPrismaå®¢æˆ·ç«¯
npm run db:generate

# æ¨é€æ•°æ®åº“schemaï¼ˆå¼€å‘ç¯å¢ƒï¼‰
npm run db:push

# æˆ–è¿è¡Œæ•°æ®åº“è¿ç§»ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
npm run db:migrate
```

### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
# æˆ–
yarn dev
```

### 6. è®¿é—®åº”ç”¨
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:9999

## ğŸ“¦ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### 1. å®‰è£…ä¾èµ–
```bash
npm install --production
```

### 2. æ•°æ®åº“è¿ç§»
```bash
# ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“è¿ç§»
npm run db:migrate

# ç”ŸæˆPrismaå®¢æˆ·ç«¯
npm run db:generate
```

### 3. æ„å»ºé¡¹ç›®
```bash
npm run build
```

### 4. å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
```bash
npm start
```

### 5. è®¿é—®åº”ç”¨
æµè§ˆå™¨è®¿é—®ï¼šhttp://ä½ çš„æœåŠ¡å™¨IP:9999

## ğŸ› ï¸ æ•°æ®åº“ç®¡ç†å‘½ä»¤

```bash
# ç”ŸæˆPrismaå®¢æˆ·ç«¯
npm run db:generate

# æ¨é€schemaåˆ°æ•°æ®åº“ï¼ˆå¼€å‘ï¼‰
npm run db:push

# æ‹‰å–æ•°æ®åº“schema
npm run db:pull

# åˆ›å»ºæ•°æ®åº“è¿ç§»
npm run db:migrate

# é‡ç½®æ•°æ®åº“
npm run db:reset

# æ‰“å¼€æ•°æ®åº“ç®¡ç†ç•Œé¢
npm run db:studio

# å¿«é€Ÿåˆ‡æ¢æ•°æ®åº“
npm run db:sqlite    # åˆ‡æ¢åˆ°SQLite
npm run db:mysql     # åˆ‡æ¢åˆ°MySQL  
npm run db:postgresql # åˆ‡æ¢åˆ°PostgreSQL
```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
love-trick/
â”œâ”€â”€ app/                    # Next.js 13+ App Router
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ v1/           # APIç‰ˆæœ¬
â”‚   â”œâ”€â”€ components/        # Reactç»„ä»¶
â”‚   â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰Hooks
â”‚   â”œâ”€â”€ store/            # ReduxçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ trick/            # åº”ç”¨é¡µé¢
â”‚   â”œâ”€â”€ types/            # TypeScriptç±»å‹å®šä¹‰
â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
â”œâ”€â”€ prisma/               # Prismaæ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ schema.prisma    # ä¸»schemaæ–‡ä»¶
â”‚   â”œâ”€â”€ schema.mysql.prisma     # MySQL schema
â”‚   â”œâ”€â”€ schema.postgresql.prisma # PostgreSQL schema
â”‚   â””â”€â”€ schema.sqlite.prisma    # SQLite schema
â”œâ”€â”€ scripts/              # æ„å»ºè„šæœ¬
â”œâ”€â”€ public/               # é™æ€èµ„æº
â””â”€â”€ generated/            # Prismaç”Ÿæˆçš„å®¢æˆ·ç«¯
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/) - Reactå…¨æ ˆæ¡†æ¶
- [Prisma](https://www.prisma.io/) - ç°ä»£åŒ–æ•°æ®åº“å·¥å…·
- [Tailwind CSS](https://tailwindcss.com/) - åŸå­åŒ–CSSæ¡†æ¶
- [React](https://reactjs.org/) - ç”¨æˆ·ç•Œé¢åº“

## ğŸ“ æ”¯æŒä¸åé¦ˆ

- ğŸ› [æŠ¥å‘ŠBug](https://github.com/lengsukq/love-trick/issues)
- ğŸ’¡ [åŠŸèƒ½å»ºè®®](https://github.com/lengsukq/love-trick/issues)
- ğŸ“– [æŸ¥çœ‹æ–‡æ¡£](https://blog.lengsu.top/article/love-trick)
- ğŸŒ [åœ¨çº¿ä½“éªŒ](https://love-trick.lengsu.top/)

## ğŸ‘¨â€ğŸ’» å…³äºä½œè€…

**lengsukq** - å…¨å¹²å·¥ç¨‹å¸ˆ ğŸš€

- ğŸŒ **ä¸ªäººåšå®¢**: [https://blog.lengsu.top/](https://blog.lengsu.top/)
- ğŸ™ **GitHub**: [https://github.com/lengsukq](https://github.com/lengsukq)
- ğŸ’¼ **æŠ€æœ¯æ ˆ**: Vue3/React/Next.js/Node.js/Python/Docker

### ğŸ¯ æ›´å¤šç²¾å½©é¡¹ç›®

- ğŸ’¬ [AIé›†åˆç«™-NextChat](https://chat.lengsu.top/) - Webç«¯ä¸€ç«™å¼å¤§æ¨¡å‹æ•´åˆ
- ğŸ› ï¸ [å·¥å…·ç®±](https://tools.lengsu.top/) - å„ç§å®ç”¨å·¥å…·é›†åˆ
- ğŸµ [BilibiliéŸ³ä¹è§£æ](https://bilibili-music.lengsu.top/) - æ”¯æŒè§£æå•ä¸ª/æ”¶è—å¤¹
- ğŸ–¼ï¸ [Pic-Su](https://pic-su.top/) - å›¾ç‰‡ç®¡ç†ç³»ç»Ÿ
- âœï¸ [AIé™é‡](https://parap.lengsu.top/) - è§£ææŸ¥é‡æŠ¥å‘Šå¹¶è‡ªå®šä¹‰å¤§æ¨¡å‹é™é‡

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸**

Made with â¤ï¸ by [lengsukq](https://github.com/lengsukq)

</div>
