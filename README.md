# ğŸ’• Love Trick - æƒ…ä¾£ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ

> ğŸ’ ç»™å¥³æœ‹å‹å†™çš„ä¸“å±æƒ…ä¾£ä»»åŠ¡å’Œå•†åŸç³»ç»Ÿ | çº¯H5é¡µé¢ | å®Œå…¨å…è´¹éƒ¨ç½² | æ— éœ€æœåŠ¡å™¨  
> ğŸš€ React-Next.jså…¨æ ˆé¡¹ç›®ï¼Œè®©çˆ±æƒ…æ›´æœ‰è¶£ï¼

[![Next.js](https://img.shields.io/badge/Next.js-15.5.2-black?logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.1.1-blue?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.6.2-blue?logo=typescript)](https://www.typescriptlang.org/)
[![Prisma](https://img.shields.io/badge/Prisma-6.15.0-green?logo=prisma)](https://www.prisma.io/)
[![GitHub stars](https://img.shields.io/github/stars/lengsukq/love-trick?style=social)](https://github.com/lengsukq/love-trick/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/lengsukq/love-trick?style=social)](https://github.com/lengsukq/love-trick/network/members)

## ğŸš€ å¿«é€Ÿå¼€å§‹

æƒ³è¦å¿«é€Ÿä½“éªŒï¼Ÿåªéœ€3æ­¥ï¼š

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/lengsukq/love-trick.git
cd love-trick

# 2. å®‰è£…ä¾èµ–
npm install

# 3. å¯åŠ¨é¡¹ç›®ï¼ˆä½¿ç”¨SQLiteé›¶é…ç½®ï¼‰
npm run dev
```

ğŸ‰ æ‰“å¼€ http://localhost:9999 å¼€å§‹ä½ çš„çˆ±æƒ…ä¹‹æ—…ï¼

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

ğŸ” **ç”¨æˆ·ç³»ç»Ÿ**
- ç”¨æˆ·æ³¨å†Œç™»å½•ï¼ˆæ³¨å†Œç‚¹å‡»ç™»å½•é¡µåœ†å½¢å¤§å›¾ï¼‰
- ä¸ªäººä¿¡æ¯ç®¡ç†ä¸æƒ…ä¾£ç»‘å®š

ğŸ¯ **ä»»åŠ¡ç³»ç»Ÿ**
- å‘å¸ƒä»»åŠ¡ç»™å¯¹æ–¹
- æ¥å—å¹¶å®Œæˆä»»åŠ¡
- ä»»åŠ¡çŠ¶æ€è¿½è¸ª

ğŸª **ç§¯åˆ†å•†åŸ**
- ç±»å•†å“äº¤æ˜“ç³»ç»Ÿï¼Œå®Œæˆä»»åŠ¡è·å–ç§¯åˆ†
- ç§¯åˆ†å…‘æ¢ç¤¼ç‰©ï¼ˆå•†å“ï¼‰
- ä¸Šæ¶è‡ªå·±çš„ç¤¼ç‰©ç»™å¯¹æ–¹å…‘æ¢

ğŸ“¸ **å›¾ç‰‡ç®¡ç†**
- æ”¯æŒSMå›¾åºŠã€IMGBBå›¾åºŠ
- å®Œå…¨ä¸å ç”¨æœåŠ¡å™¨ç©ºé—´
- è®©å®¶åº­è‡ªå»ºæœåŠ¡å™¨ä¹Ÿèƒ½å®ç°é«˜æ¸…å¤§å›¾å­˜å‚¨

ğŸ’¬ **ç•™è¨€åŠŸèƒ½**
- ç»™å¯¹æ–¹ç•™è¨€è¡¨è¾¾å¿ƒæ„
- ç•™è¨€çŠ¶æ€ç®¡ç†

ğŸ¤– **æ™ºèƒ½é€šçŸ¥**
- å‘å¸ƒ/æ¥å—/å®Œæˆä»»åŠ¡æ—¶å¾®ä¿¡ä¼ä¸šæœºå™¨äººé€šçŸ¥
- ä½¿ç”¨ç¤¼ç‰©æ—¶è‡ªåŠ¨é€šçŸ¥

â¤ï¸ **æ”¶è—ç³»ç»Ÿ**
- æ”¶è—å–œæ¬¢çš„ä»»åŠ¡ã€ç¤¼ç‰©ã€ç•™è¨€
- ä¸ªäººæ”¶è—ç®¡ç†
***
![mainImg.png](readmeImg%2FmainImg.png)

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Next.js 15.5.2** - Reactå…¨æ ˆæ¡†æ¶ï¼Œæ”¯æŒSSR/SSG
- **React 19.1.1** - ç”¨æˆ·ç•Œé¢åº“
- **TypeScript 5.6.2** - ç±»å‹å®‰å…¨çš„JavaScript
- **Tailwind CSS** - åŸå­åŒ–CSSæ¡†æ¶
- **Framer Motion** - åŠ¨ç”»åº“
- **React Redux** - çŠ¶æ€ç®¡ç†

### åç«¯æŠ€æœ¯æ ˆ
- **Next.js API Routes** - æœåŠ¡ç«¯APIæ¥å£
- **Prisma ORM 6.15.0** - ç°ä»£åŒ–æ•°æ®åº“è®¿é—®å±‚
- **JWT** - èº«ä»½è®¤è¯
- **ä¸­é—´ä»¶éªŒè¯** - è·¯ç”±å®‰å…¨ä¿æŠ¤

### æ•°æ®åº“æ”¯æŒ
ğŸ—„ï¸ **å¤šæ•°æ®åº“å…¼å®¹** - é€šè¿‡Prisma ORMæ”¯æŒï¼š
- **SQLite** (å¼€å‘ç¯å¢ƒæ¨è) - é›¶é…ç½®ï¼Œå¼€ç®±å³ç”¨
- **MySQL** (ç”Ÿäº§ç¯å¢ƒæ¨è) - é«˜æ€§èƒ½å…³ç³»å‹æ•°æ®åº“  
- **PostgreSQL** (ä¼ä¸šçº§æ¨è) - åŠŸèƒ½ä¸°å¯Œçš„å¼€æºæ•°æ®åº“

### å¤–éƒ¨é›†æˆ
- **å›¾åºŠæœåŠ¡** - SMå›¾åºŠã€IMGBBå›¾åºŠï¼ˆæ”¯æŒé«˜æ¸…å›¾ç‰‡ä¸Šä¼ ï¼‰
- **ä¼ä¸šå¾®ä¿¡æœºå™¨äºº** - å®æ—¶æ¶ˆæ¯æ¨é€ï¼Œä»»åŠ¡çŠ¶æ€åŒæ­¥

## ğŸ“Š æ•°æ®åº“æ¨¡å‹

### æ ¸å¿ƒæ•°æ®è¡¨
- **UserInfo** - ç”¨æˆ·ä¿¡æ¯è¡¨
- **TaskList** - ä»»åŠ¡åˆ—è¡¨è¡¨  
- **GiftList** - ç¤¼ç‰©åˆ—è¡¨è¡¨
- **WhisperList** - ç•™è¨€åˆ—è¡¨è¡¨
- **FavouriteList** - æ”¶è—åˆ—è¡¨è¡¨

![sql.png](readmeImg%2Fsql.png)

## ğŸ“š æ— éœ€æœåŠ¡å™¨ï¼Œ0æˆæœ¬æ­å»ºæ•™ç¨‹ 
ğŸ”— [è¯¦ç»†æ•™ç¨‹](https://blog.lengsu.top/article/love-trick)

## âš™ï¸ ç¯å¢ƒé…ç½®

### åˆ›å»º.env.localæ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`.env.local`æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash
# ===========================================
# ğŸ—„ï¸ æ•°æ®åº“é…ç½® (Database Configuration)
# ===========================================

# æ•°æ®åº“æä¾›å•†é€‰æ‹©: sqlite, mysql, postgresql
DATABASE_PROVIDER=sqlite

# æ•°æ®åº“è¿æ¥URL (æ ¹æ®DATABASE_PROVIDERé€‰æ‹©å¯¹åº”æ ¼å¼)
# SQLite: file:./dev.db
# MySQL: mysql://username:password@host:port/database  
# PostgreSQL: postgresql://username:password@host:port/database
DATABASE_URL=file:./dev.db

# ===========================================
# ğŸ” å®‰å…¨é…ç½® (Security Configuration)
# ===========================================

# JWTå¯†é’¥ - ç”¨äºcookieåŠ å¯†ï¼Œè¯·æ›¿æ¢ä¸ºå¤æ‚çš„éšæœºå­—ç¬¦ä¸²
JWT_SECRET_KEY=your_super_secret_jwt_key_here

# ===========================================
# ğŸ¤– å¾®ä¿¡æœºå™¨äººé…ç½® (WeChat Robot Configuration)  
# ===========================================

# ä¼ä¸šå¾®ä¿¡æœºå™¨äººwebhook URL (å¯é€‰)
WX_ROBOT_URL=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your-webhook-key

# ===========================================
# ğŸ“¸ å›¾åºŠé…ç½® (Image Hosting Configuration)
# ===========================================

# å›¾åºŠé€‰æ‹©: SM, IMGBB
DRAWING_BED=SM

# SMå›¾åºŠé…ç½® (å½“DRAWING_BED=SMæ—¶éœ€è¦)
# æ³¨å†Œåœ°å€: https://smms.app/
SM_TOKEN=your_sm_token_here

# IMGBBå›¾åºŠé…ç½® (å½“DRAWING_BED=IMGBBæ—¶éœ€è¦)
# æ³¨å†Œåœ°å€: https://imgbb.com/
IMGBB_API=your_imgbb_api_key_here
```

### ğŸ“ é…ç½®è¯´æ˜

#### æ•°æ®åº“é…ç½®
- **å¼€å‘ç¯å¢ƒæ¨è**: ä½¿ç”¨SQLite (`DATABASE_PROVIDER=sqlite`)ï¼Œé›¶é…ç½®å¼€ç®±å³ç”¨
- **ç”Ÿäº§ç¯å¢ƒæ¨è**: ä½¿ç”¨MySQLæˆ–PostgreSQLï¼Œæ€§èƒ½æ›´ä¼˜
- ä½¿ç”¨Prisma ORMï¼Œæ”¯æŒæ•°æ®åº“è¿ç§»å’Œç±»å‹å®‰å…¨

#### å›¾åºŠé…ç½®
- æ”¯æŒä¸¤ç§å›¾åºŠæœåŠ¡ï¼š**SMå›¾åºŠ**å’Œ**IMGBBå›¾åºŠ**
- **SMå›¾åºŠ**ï¼šæ³¨å†Œ https://smms.app/ è·å–API Token
- **IMGBBå›¾åºŠ**ï¼šæ³¨å†Œ https://imgbb.com/ è·å–API Key
- é€‰æ‹©å…¶ä¸­ä¸€ç§é…ç½®å³å¯ï¼Œå»ºè®®ä½¿ç”¨SMå›¾åºŠï¼ˆå…è´¹ã€ç¨³å®šï¼‰

#### æ•°æ®åº“å¿«é€Ÿåˆ‡æ¢
é¡¹ç›®æ”¯æŒé€šè¿‡npmè„šæœ¬å¿«é€Ÿåˆ‡æ¢æ•°æ®åº“ï¼š
```bash
# åˆ‡æ¢åˆ°SQLite
npm run db:sqlite

# åˆ‡æ¢åˆ°MySQL  
npm run db:mysql

# åˆ‡æ¢åˆ°PostgreSQL
npm run db:postgresql
```

## ğŸ”„ é¡¹ç›®è¿­ä»£çŠ¶æ€

### âœ… å·²å®Œæˆä¼˜åŒ–
- âœ… **æ•°æ®åº“æ¶æ„å‡çº§** - ä»åŸç”ŸSQLè¿ç§»åˆ°Prisma ORM
- âœ… **å¤šæ•°æ®åº“æ”¯æŒ** - æ”¯æŒSQLite/MySQL/PostgreSQL
- âœ… **Next.js 15å‡çº§** - å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œæ€§èƒ½æ›´ä¼˜
- âœ… **React 19å‡çº§** - æœ€æ–°Reactç‰¹æ€§æ”¯æŒ
- âœ… **Cookieå®‰å…¨ä¼˜åŒ–** - æœåŠ¡å™¨ç«¯äºŒæ¬¡æ ¡éªŒ
- âœ… **ç±»å‹å®‰å…¨** - å…¨é¢TypeScriptåŒ–
- âœ… **ä¸­é—´ä»¶éªŒè¯** - è·¯ç”±çº§åˆ«çš„å®‰å…¨ä¿æŠ¤

### ğŸš§ æŒç»­æ”¹è¿›ä¸­
- ğŸ”„ æ¥å£å‚æ•°æ ¡éªŒå®Œå–„
- ğŸ”„ äºŒæ¬¡ç¡®è®¤é€»è¾‘ä¼˜åŒ–
- ğŸ”„ é”™è¯¯å¤„ç†æœºåˆ¶å¢å¼º
- ğŸ”„ æ€§èƒ½ä¼˜åŒ–å’Œç¼“å­˜ç­–ç•¥

## ğŸ³ Docker éƒ¨ç½²

### 1. æ„å»ºæˆ–æ‹‰å–é•œåƒ
```bash
# æ„å»ºæœ¬åœ°é•œåƒï¼ˆéœ€è¦å…ˆè¿›å…¥é¡¹ç›®ç›®å½•ï¼‰
docker build -t love-trick .

# æˆ–æ‹‰å–è¿œç¨‹é•œåƒ
docker pull queensu/love-trick
```

### 2. è¿è¡Œå®¹å™¨

#### SQLiteæ¨¡å¼ï¼ˆæ¨èæ–°æ‰‹ï¼‰
```bash
docker run -d -p 9999:9999 --name love-trick \
  -e DATABASE_PROVIDER=sqlite \
  -e DATABASE_URL=file:./dev.db \
  -e JWT_SECRET_KEY=your_jwt_secret_key \
  -e DRAWING_BED=SM \
  -e SM_TOKEN=your_sm_token \
  -e WX_ROBOT_URL=your_webhook_url \
  -v $(pwd)/data:/app/data \
  love-trick
```

#### MySQLæ¨¡å¼ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰
```bash
docker run -d -p 9999:9999 --name love-trick \
  -e DATABASE_PROVIDER=mysql \
  -e DATABASE_URL=mysql://username:password@host:port/database \
  -e JWT_SECRET_KEY=your_jwt_secret_key \
  -e DRAWING_BED=SM \
  -e SM_TOKEN=your_sm_token \
  -e WX_ROBOT_URL=your_webhook_url \
  love-trick
```

#### PostgreSQLæ¨¡å¼
```bash
docker run -d -p 9999:9999 --name love-trick \
  -e DATABASE_PROVIDER=postgresql \
  -e DATABASE_URL=postgresql://username:password@host:port/database \
  -e JWT_SECRET_KEY=your_jwt_secret_key \
  -e DRAWING_BED=SM \
  -e SM_TOKEN=your_sm_token \
  -e WX_ROBOT_URL=your_webhook_url \
  love-trick
```

## ğŸš€ å¼€å‘å¯åŠ¨æµç¨‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-username/love-trick.git
cd love-trick
```

### 2. å®‰è£…ä¾èµ–
```bash
# ä½¿ç”¨npm
npm install

# æˆ–ä½¿ç”¨yarn
yarn install
```

### 3. ç¯å¢ƒé…ç½®
```bash
# å¤åˆ¶å¹¶ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶
cp .env.example .env.local

# ç¼–è¾‘é…ç½®æ–‡ä»¶
vim .env.local  # æˆ–ä½¿ç”¨å…¶ä»–ç¼–è¾‘å™¨
```

### 4. æ•°æ®åº“åˆå§‹åŒ–
```bash
# ç”ŸæˆPrismaå®¢æˆ·ç«¯
npm run db:generate

# æ¨é€æ•°æ®åº“schemaï¼ˆå¼€å‘ç¯å¢ƒï¼‰
npm run db:push

# æˆ–è¿è¡Œæ•°æ®åº“è¿ç§»ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
npm run db:migrate
```

### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
# æˆ–
yarn dev
```

### 6. è®¿é—®åº”ç”¨
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:9999

## ğŸ“¦ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### 1. å®‰è£…ä¾èµ–
```bash
npm install --production
```

### 2. æ•°æ®åº“è¿ç§»
```bash
# ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“è¿ç§»
npm run db:migrate

# ç”ŸæˆPrismaå®¢æˆ·ç«¯
npm run db:generate
```

### 3. æ„å»ºé¡¹ç›®
```bash
npm run build
```

### 4. å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
```bash
npm start
```

### 5. è®¿é—®åº”ç”¨
æµè§ˆå™¨è®¿é—®ï¼šhttp://ä½ çš„æœåŠ¡å™¨IP:9999

## ğŸ› ï¸ æ•°æ®åº“ç®¡ç†å‘½ä»¤

```bash
# ç”ŸæˆPrismaå®¢æˆ·ç«¯
npm run db:generate

# æ¨é€schemaåˆ°æ•°æ®åº“ï¼ˆå¼€å‘ï¼‰
npm run db:push

# æ‹‰å–æ•°æ®åº“schema
npm run db:pull

# åˆ›å»ºæ•°æ®åº“è¿ç§»
npm run db:migrate

# é‡ç½®æ•°æ®åº“
npm run db:reset

# æ‰“å¼€æ•°æ®åº“ç®¡ç†ç•Œé¢
npm run db:studio

# å¿«é€Ÿåˆ‡æ¢æ•°æ®åº“
npm run db:sqlite    # åˆ‡æ¢åˆ°SQLite
npm run db:mysql     # åˆ‡æ¢åˆ°MySQL  
npm run db:postgresql # åˆ‡æ¢åˆ°PostgreSQL
```

## ğŸš¨ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### ğŸ” å¿«é€Ÿæ•…éšœæ’é™¤è¡¨

| é—®é¢˜ç—‡çŠ¶ | å¯èƒ½åŸå›  | å¿«é€Ÿè§£å†³ |
|---------|---------|---------|
| ğŸš« Prisma Studio æŠ¥é”™ | å®¢æˆ·ç«¯æŸå | `taskkill /f /im node.exe` â†’ é‡æ–°ç”Ÿæˆå®¢æˆ·ç«¯ |
| ğŸš« æ•°æ®åº“è¿æ¥å¤±è´¥ | ç¯å¢ƒå˜é‡æœªè®¾ç½® | è¿è¡Œ `.\setup-sqlite-dev.ps1` |
| ğŸš« ç«¯å£ 9999 è¢«å ç”¨ | è¿›ç¨‹æœªæ­£å¸¸ç»“æŸ | `netstat -ano \| findstr :9999` â†’ æ€æ­»è¿›ç¨‹ |
| ğŸš« npm install å¤±è´¥ | ä¾èµ–å†²çª | åˆ é™¤ `node_modules` â†’ é‡æ–°å®‰è£… |
| ğŸš« å›¾ç‰‡ä¸Šä¼ å¤±è´¥ | å›¾åºŠé…ç½®é”™è¯¯ | æ£€æŸ¥ `DRAWING_BED` å’Œå¯¹åº” API Key |
| ğŸš« å¾®ä¿¡é€šçŸ¥ä¸å·¥ä½œ | Webhook URL é”™è¯¯ | éªŒè¯ `WX_ROBOT_URL` æ ¼å¼ |
| ğŸš« TypeScript é”™è¯¯ | ç±»å‹å®šä¹‰è¿‡æœŸ | `npm run db:generate` æ›´æ–°ç±»å‹ |
| ğŸš« é¡µé¢ç™½å± | æ•°æ®åº“æœªåˆå§‹åŒ– | `npm run db:push` åˆ›å»ºè¡¨ç»“æ„ |

### âŒ Prisma Studio è¿è¡Œé”™è¯¯

**é—®é¢˜æè¿°**: è¿è¡Œ `npm run db:studio` æ—¶å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š
```
Invalid `STUDIO_EMBED_BUILD<"u"&&STUDIO_EMBED_BUILD?lMe():require(...)` invocation
Cannot fetch data from service: fetch failed
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. åœæ­¢æ‰€æœ‰ Node è¿›ç¨‹
taskkill /f /im node.exe

# 2. åˆ é™¤æŸåçš„ Prisma å®¢æˆ·ç«¯
Remove-Item -Recurse -Force .\generated\prisma -ErrorAction SilentlyContinue

# 3. é‡æ–°ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
$env:DATABASE_URL="file:./dev.db"; npm run db:generate

# 4. æ¨é€æ•°æ®åº“ schema
$env:DATABASE_URL="file:./dev.db"; npm run db:push

# 5. é‡æ–°å¯åŠ¨ Prisma Studio
npm run db:studio
```

### âŒ ç¯å¢ƒå˜é‡é…ç½®é—®é¢˜

**é—®é¢˜æè¿°**: æ— æ³•åˆ›å»º `.env.local` æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ–¹æ³•1: ä½¿ç”¨å¼€å‘è„šæœ¬è®¾ç½®ç¯å¢ƒå˜é‡
.\setup-sqlite-dev.ps1

# æ–¹æ³•2: æ‰‹åŠ¨åœ¨ PowerShell ä¸­è®¾ç½®
$env:DATABASE_URL="file:./dev.db"
$env:DATABASE_PROVIDER="sqlite"

# æ–¹æ³•3: åˆ›å»º .env æ–‡ä»¶ï¼ˆå¦‚æœ .env.local è¢«å¿½ç•¥ï¼‰
echo 'DATABASE_URL="file:./dev.db"' > .env
echo 'DATABASE_PROVIDER="sqlite"' >> .env
```

### âŒ SQLite æ•°æ®åº“æ–‡ä»¶æ‰¾ä¸åˆ°

**é—®é¢˜æè¿°**: æç¤ºæ•°æ®åº“æ–‡ä»¶ä¸å­˜åœ¨æˆ–æ— æ³•è¿æ¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶æ˜¯å¦å­˜åœ¨
Test-Path ./prisma/dev.db

# 2. å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ¨é€ schema åˆ›å»ºæ•°æ®åº“
npm run db:push

# 3. éªŒè¯æ•°æ®åº“è¿æ¥
node -e "const { PrismaClient } = require('./generated/prisma'); const prisma = new PrismaClient(); prisma.userInfo.count().then(count => console.log('è¿æ¥æˆåŠŸï¼Œç”¨æˆ·æ•°:', count)).catch(console.error).finally(() => prisma.$disconnect());"
```

### âŒ æ•°æ®åº“åˆ‡æ¢å¤±è´¥

**é—®é¢˜æè¿°**: è¿è¡Œ `npm run db:mysql` æˆ–å…¶ä»–æ•°æ®åº“åˆ‡æ¢å‘½ä»¤å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ‰‹åŠ¨åˆ‡æ¢æ•°æ®åº“
node scripts/switch-database.js sqlite

# 2. é‡æ–°ç”Ÿæˆå®¢æˆ·ç«¯
npm run db:generate

# 3. æ¨é€ schema
npm run db:push
```

### âŒ ä¾èµ–å®‰è£…é—®é¢˜

**é—®é¢˜æè¿°**: `npm install` è¿‡ç¨‹ä¸­å‡ºç°ä¾èµ–å†²çªæˆ–å®‰è£…å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ¸…ç†ç¼“å­˜
npm cache clean --force

# 2. åˆ é™¤ node_modules å’Œ package-lock.json
Remove-Item -Recurse -Force node_modules -ErrorAction SilentlyContinue
Remove-Item package-lock.json -ErrorAction SilentlyContinue

# 3. é‡æ–°å®‰è£…
npm install

# 4. å¦‚æœä»æœ‰é—®é¢˜ï¼Œä½¿ç”¨ yarn
yarn install
```

### âŒ ç«¯å£å ç”¨é—®é¢˜

**é—®é¢˜æè¿°**: å¯åŠ¨é¡¹ç›®æ—¶æç¤ºç«¯å£ 9999 å·²è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :9999

# 2. æ€æ­»å ç”¨è¿›ç¨‹ï¼ˆæ›¿æ¢ PIDï¼‰
taskkill /f /pid <PID>

# 3. æˆ–ä½¿ç”¨ä¸åŒç«¯å£å¯åŠ¨
next dev -p 3000
```

### âŒ TypeScript ç±»å‹é”™è¯¯

**é—®é¢˜æè¿°**: ç¼–è¯‘æ—¶å‡ºç° TypeScript ç±»å‹é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. é‡æ–°ç”Ÿæˆ Prisma å®¢æˆ·ç«¯ï¼ˆæ›´æ–°ç±»å‹å®šä¹‰ï¼‰
npm run db:generate

# 2. ç±»å‹æ£€æŸ¥
npm run type-check

# 3. å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥æš‚æ—¶è·³è¿‡ç±»å‹æ£€æŸ¥
npm run dev -- --no-type-check
```

### âŒ å›¾ç‰‡ä¸Šä¼ å¤±è´¥

**é—®é¢˜æè¿°**: å›¾ç‰‡ä¸Šä¼ åˆ°å›¾åºŠå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. **æ£€æŸ¥å›¾åºŠé…ç½®**:
   ```bash
   # æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®
   echo $env:DRAWING_BED
   echo $env:SM_TOKEN      # å¦‚æœä½¿ç”¨ SM å›¾åºŠ
   echo $env:IMGBB_API     # å¦‚æœä½¿ç”¨ IMGBB å›¾åºŠ
   ```

2. **SMå›¾åºŠé—®é¢˜**:
   - ç¡®è®¤ Token æ˜¯å¦æœ‰æ•ˆï¼šè®¿é—® https://smms.app/
   - æ£€æŸ¥å›¾ç‰‡å¤§å°æ˜¯å¦è¶…è¿‡é™åˆ¶ï¼ˆ5MBï¼‰
   - ç¡®è®¤å›¾ç‰‡æ ¼å¼æ˜¯å¦æ”¯æŒ

3. **IMGBBå›¾åºŠé—®é¢˜**:
   - ç¡®è®¤ API Key æ˜¯å¦æœ‰æ•ˆï¼šè®¿é—® https://imgbb.com/
   - æ£€æŸ¥æ¯æ—¥ä¸Šä¼ é™é¢

### âŒ å¾®ä¿¡æœºå™¨äººé€šçŸ¥å¤±è´¥

**é—®é¢˜æè¿°**: ä¼ä¸šå¾®ä¿¡æœºå™¨äººæ— æ³•å‘é€é€šçŸ¥

**è§£å†³æ–¹æ¡ˆ**:
1. **æ£€æŸ¥ Webhook URL**:
   ```bash
   # ç¡®è®¤ç¯å¢ƒå˜é‡è®¾ç½®
   echo $env:WX_ROBOT_URL
   ```

2. **æµ‹è¯• Webhook**:
   ```bash
   # ä½¿ç”¨ curl æµ‹è¯•ï¼ˆPowerShellï¼‰
   curl -X POST -H "Content-Type: application/json" -d '{"msgtype":"text","text":{"content":"æµ‹è¯•æ¶ˆæ¯"}}' $env:WX_ROBOT_URL
   ```

3. **å¸¸è§é—®é¢˜**:
   - Webhook URL æ ¼å¼é”™è¯¯
   - æœºå™¨äººè¢«ç®¡ç†å‘˜ç¦ç”¨
   - å‘é€é¢‘ç‡è¿‡é«˜è¢«é™åˆ¶

### ğŸ”§ å¿«é€Ÿè¯Šæ–­è„šæœ¬

æˆ‘ä»¬ä¸ºæ‚¨æä¾›äº†å¿«é€Ÿè¯Šæ–­è„šæœ¬ï¼š

```powershell
# è¿è¡Œè¯Šæ–­è„šæœ¬
.\setup-sqlite-dev.ps1
```

è¯¥è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… æ£€æŸ¥ç¯å¢ƒå˜é‡è®¾ç½®
- âœ… éªŒè¯æ•°æ®åº“æ–‡ä»¶å­˜åœ¨
- âœ… æ˜¾ç¤ºå¯ç”¨å‘½ä»¤
- âœ… æä¾›æ•°æ®åº“çŠ¶æ€ä¿¡æ¯

### ğŸš€ å¼€å‘ç¯å¢ƒä¸€é”®è®¾ç½®

å¯¹äº Windows ç”¨æˆ·ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€é”®è®¾ç½®è„šæœ¬ï¼š

```powershell
# ä¸‹è½½é¡¹ç›®åï¼Œç›´æ¥è¿è¡Œï¼š
.\setup-sqlite-dev.ps1

# ç„¶åå¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š
npm run dev
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… è®¾ç½® SQLite ç¯å¢ƒå˜é‡
- âœ… æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶çŠ¶æ€  
- âœ… æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å‘½ä»¤
- âœ… æä¾›å®Œæ•´çš„å¼€å‘ç¯å¢ƒä¿¡æ¯

### âš¡ æé€Ÿå¯åŠ¨ï¼ˆé›¶é…ç½®ï¼‰

å¦‚æœæ‚¨åªæƒ³å¿«é€Ÿä½“éªŒé¡¹ç›®ï¼š

```bash
# 1. å…‹éš†å¹¶è¿›å…¥é¡¹ç›®
git clone https://github.com/lengsukq/love-trick.git && cd love-trick

# 2. å®‰è£…ä¾èµ–
npm install

# 3. ä¸€é”®å¯åŠ¨ï¼ˆè‡ªåŠ¨ä½¿ç”¨ SQLiteï¼‰
npm run dev
```

**å°±è¿™ä¹ˆç®€å•ï¼** é¡¹ç›®ä¼šè‡ªåŠ¨ï¼š
- ğŸ—„ï¸ ä½¿ç”¨ SQLite æ•°æ®åº“ï¼ˆæ— éœ€é…ç½®ï¼‰
- ğŸ”§ è‡ªåŠ¨ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
- ğŸ“¦ è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„
- ğŸŒ åœ¨ http://localhost:9999 å¯åŠ¨æœåŠ¡

### ğŸ“ è·å–å¸®åŠ©

å¦‚æœä»¥ä¸Šè§£å†³æ–¹æ¡ˆéƒ½æ— æ³•è§£å†³æ‚¨çš„é—®é¢˜ï¼š

1. ğŸ› [æäº¤ Issue](https://github.com/lengsukq/love-trick/issues) - è¯¦ç»†æè¿°é—®é¢˜å’Œé”™è¯¯ä¿¡æ¯
2. ğŸ“– [æŸ¥çœ‹å®Œæ•´æ–‡æ¡£](https://blog.lengsu.top/article/love-trick)
3. ğŸ’¬ åŠ å…¥è®¨è®ºç¾¤è·å–å®æ—¶å¸®åŠ©

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
love-trick/
â”œâ”€â”€ app/                    # Next.js 13+ App Router
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ v1/           # APIç‰ˆæœ¬
â”‚   â”œâ”€â”€ components/        # Reactç»„ä»¶
â”‚   â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰Hooks
â”‚   â”œâ”€â”€ store/            # ReduxçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ trick/            # åº”ç”¨é¡µé¢
â”‚   â”œâ”€â”€ types/            # TypeScriptç±»å‹å®šä¹‰
â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
â”œâ”€â”€ prisma/               # Prismaæ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ schema.prisma    # ä¸»schemaæ–‡ä»¶
â”‚   â”œâ”€â”€ schema.mysql.prisma     # MySQL schema
â”‚   â”œâ”€â”€ schema.postgresql.prisma # PostgreSQL schema
â”‚   â””â”€â”€ schema.sqlite.prisma    # SQLite schema
â”œâ”€â”€ scripts/              # æ„å»ºè„šæœ¬
â”œâ”€â”€ public/               # é™æ€èµ„æº
â””â”€â”€ generated/            # Prismaç”Ÿæˆçš„å®¢æˆ·ç«¯
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/) - Reactå…¨æ ˆæ¡†æ¶
- [Prisma](https://www.prisma.io/) - ç°ä»£åŒ–æ•°æ®åº“å·¥å…·
- [Tailwind CSS](https://tailwindcss.com/) - åŸå­åŒ–CSSæ¡†æ¶
- [React](https://reactjs.org/) - ç”¨æˆ·ç•Œé¢åº“

## ğŸ“ æ”¯æŒä¸åé¦ˆ

- ğŸ› [æŠ¥å‘ŠBug](https://github.com/lengsukq/love-trick/issues)
- ğŸ’¡ [åŠŸèƒ½å»ºè®®](https://github.com/lengsukq/love-trick/issues)
- ğŸ“– [æŸ¥çœ‹æ–‡æ¡£](https://blog.lengsu.top/article/love-trick)
- ğŸŒ [åœ¨çº¿ä½“éªŒ](https://love-trick.lengsu.top/)

## ğŸ‘¨â€ğŸ’» å…³äºä½œè€…

**lengsukq** - å…¨å¹²å·¥ç¨‹å¸ˆ ğŸš€

- ğŸŒ **ä¸ªäººåšå®¢**: [https://blog.lengsu.top/](https://blog.lengsu.top/)
- ğŸ™ **GitHub**: [https://github.com/lengsukq](https://github.com/lengsukq)
- ğŸ’¼ **æŠ€æœ¯æ ˆ**: Vue3/React/Next.js/Node.js/Python/Docker

### ğŸ¯ æ›´å¤šç²¾å½©é¡¹ç›®

- ğŸ’¬ [AIé›†åˆç«™-NextChat](https://chat.lengsu.top/) - Webç«¯ä¸€ç«™å¼å¤§æ¨¡å‹æ•´åˆ
- ğŸ› ï¸ [å·¥å…·ç®±](https://tools.lengsu.top/) - å„ç§å®ç”¨å·¥å…·é›†åˆ
- ğŸµ [BilibiliéŸ³ä¹è§£æ](https://bilibili-music.lengsu.top/) - æ”¯æŒè§£æå•ä¸ª/æ”¶è—å¤¹
- ğŸ–¼ï¸ [Pic-Su](https://pic-su.top/) - å›¾ç‰‡ç®¡ç†ç³»ç»Ÿ
- âœï¸ [AIé™é‡](https://parap.lengsu.top/) - è§£ææŸ¥é‡æŠ¥å‘Šå¹¶è‡ªå®šä¹‰å¤§æ¨¡å‹é™é‡

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸**

Made with â¤ï¸ by [lengsukq](https://github.com/lengsukq)

</div>
